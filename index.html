<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS Lesson 5</title>
	<link rel="stylesheet" href="css/main.css">
	
	<!-- <script src="script.js" defer></script> -->

</head>

<body>
	<div  class="maincontainer">
		<div id="chessDesk" class="centering">
			<div id="chessArea"></div>
		</div>
	</div>
	
	<script>		
		function drawBoard(length, area)
		{
			var line = [], chessBoard = [], i = 0, j = 0, color;

			while (i <= length) {
								
				if (i != length) {
					line[i] = drawLine(area, i+1);
				}  else {
					line[i] = drawLine(area, null, true);
				}
				for (j = 0; j < length; j++) {
					chessBoard[i] = [j];
					chessBoard[i][j] = document.createElement('div');
					
					if (i == length) {
						color = null;
					} else {
						color = getColor(i, j);
					}

					drawSquare(chessBoard[i][j], color);

					line[i].appendChild(chessBoard[i][j]);
				}
				i++;
			}
		}

		function drawLine(area, num, last = false)
		{
			var lineNode = document.createElement('div');
			if(!last) {
				lineNode.className = 'line';
			} else 
				lineNode.className = 'abcLine';

				area.appendChild(lineNode);
				setNumberin(lineNode, num);

			return lineNode;
		}

		function drawSquare(node, sqColor, mainClass = 'sqDefault')
		{
			
			if (sqColor != null) {
				node.className = mainClass;
				node.classList.add(sqColor);
			} else {
				node.className = 'adcBlock';
			}
		}

		function setNumberin(lNode, num)
		{
			var lineNumber = document.createElement('div');
			lineNumber.className = 'numBlock';
			
			if (num != null) {
				lineNumber.innerHTML = num;
			}

			lNode.appendChild(lineNumber);
		}

		function getColor(i, j)
		{
			if ((i % 2 == 0 && j % 2 == 0) || (i % 2 == 1 && j % 2 == 1)) {
				return 'black';
			} else {
				return 'white';
			}
		}

		var chessArea = document.getElementById('chessArea');
		drawBoard(8, chessArea);
	</script>

	
</body>
</html>